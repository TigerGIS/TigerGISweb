<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no" />

  <title>test10地图切换.Html</title>
  <link rel="stylesheet" type="text/css" href="http://localhost:8080/jsapi/arcgis_js_v312_api/arcgis_js_api/library/3.12/3.12/dijit/themes/claro/claro.css" />
  <link rel="stylesheet" type="text/css" href="http://localhost:8080/jsapi/arcgis_js_v312_api/arcgis_js_api/library/3.12/3.12/dijit/themes/nihilo/nihilo.css" />
  <link rel="stylesheet" type="text/css" href="http://localhost:8080/jsapi/arcgis_js_v312_api/arcgis_js_api/library/3.12/3.12/dijit/themes/tundra/tundra.css" />
  <link rel="stylesheet" type="text/css" href="http://localhost:8080/jsapi/arcgis_js_v312_api/arcgis_js_api/library/3.12/3.12/dijit/themes/soria/soria.css" />
  <link rel="stylesheet" type="text/css" href="http://localhost:8080/jsapi/arcgis_js_v312_api/arcgis_js_api/library/3.12/3.12/esri/css/esri.css" />
  <script type="text/javascript" src="http://localhost:8080/jsapi/arcgis_js_v312_api/arcgis_js_api/library/3.12/3.12/init.js"> </script>
  
   <style>
      html, body, 
	      #map{
		        padding: 0;
		        margin: 0;
		        height: 100%;
		        width: 100%;
	      	}
	      #HomeButton {
		      	position: absolute;
		      	top: 88px;
		      	left: 19px;
		      	z-index: 50;
	    	}
      .esriPopup .contentPane span {
        display: inline-block;
        padding: 0 0 0.2em 0;
        width: 6em;
      }
    </style><!DOCTYPE html>
    
    
    <script>
      require([
       		    "dojo/parser", 
				"esri/map",
			    "esri/layers/MapImage",
				"esri/layers/MapImageLayer",
				"esri/graphic",
				"esri/symbols/SimpleMarkerSymbol",
				"esri/tasks/GeometryService",
				"esri/tasks/ProjectParameters",
				"esri/SpatialReference",
                "esri/dijit/BasemapGallery",
				"esri/InfoTemplate",
	            "esri/dijit/HomeButton",
				"dojo/dom",
				"dojo/on",
				"dojo/domReady!"
      ], function(
		        parser,
		        Map, 
		        MapImage,
		        MapImageLayer,
		        Graphic, 
		        SimpleMarkerSymbol,
		        GeometryService, 
		        ProjectParameters,
		        SpatialReference, 
		        BasemapGallery,
		        InfoTemplate, 
	            HomeButton,
		        dom, 
		        on
      ) {
          //parser.parser();
          var map = new Map("map", {
                basemap: "topo",
                center: [-105.255, 40.022],
                zoom: 13
            });
            
            var basemapGallery = new BasemapGallery({
                showArcGISBasemaps: true,
                map: map
            }, "basemapGallery");
            basemapGallery.startup();
            basemapGallery.on("error", function (msg) {
                console.log("basemap gallery error:", msg);
            });

      });
    </script>

  </head>
  <body class="claro">
    <div data-dojo-type="dijit/layout/BorderContainer"
        data-dojo-props="design:'headline', gutters:false"
        style="width: 100%; height: 100%; margin: 0;">
        <div id="map"
            data-dojo-type="dijit/layout/ContentPane"
            data-dojo-props="region:'center'"
            style="padding: 0;">

            <div style="position: absolute; right: 20px; top: 10px; z-index: 999;">
                <div data-dojo-type="dijit/TitlePane" data-dojo-props="title:'Switch BaseMap',closable:false,open:false">
                    <div data-dojo-type="dijit/layout/ContentPane" style="width: 380px; height: 100%; overflow: auto;">
                        <div id="basemapGallery"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
  </body>
</html>

          
